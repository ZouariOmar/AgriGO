\doxysection{get\+\_\+oauth\+\_\+token.\+php}
\hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source}{}\label{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source}\index{/home/zouari\_omar/Documents/Daily/Projects/AgriGO/templates/gardnma-\/package-\/files/1\_gardnma-\/html-\/files/assets/inc/PHPMailer/get\_oauth\_token.php@{/home/zouari\_omar/Documents/Daily/Projects/AgriGO/templates/gardnma-\/package-\/files/1\_gardnma-\/html-\/files/assets/inc/PHPMailer/get\_oauth\_token.php}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00001}00001\ <?php}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00033}00033\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacePHPMailer_1_1PHPMailer}{PHPMailer\(\backslash\)PHPMailer}};}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00041}00041\ \textcolor{comment}{//@see\ https://github.com/thephpleague/oauth2-\/google}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00042}00042\ use\ League\(\backslash\)OAuth2\(\backslash\)Client\(\backslash\)Provider\(\backslash\)Google;}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00043}00043\ \textcolor{comment}{//@see\ https://packagist.org/packages/hayageek/oauth2-\/yahoo}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00044}00044\ use\ Hayageek\(\backslash\)OAuth2\(\backslash\)Client\(\backslash\)Provider\(\backslash\)Yahoo;}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00045}00045\ \textcolor{comment}{//@see\ https://github.com/stevenmaguire/oauth2-\/microsoft}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00046}00046\ use\ Stevenmaguire\(\backslash\)OAuth2\(\backslash\)Client\(\backslash\)Provider\(\backslash\)Microsoft;}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00048}00048\ \textcolor{keywordflow}{if}\ (!isset(\$\_GET[\textcolor{stringliteral}{'code'}])\ \&\&\ !isset(\$\_POST[\textcolor{stringliteral}{'provider'}]))\ \{}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00049}00049\ \ \ \ \ ?>}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00050}00050\ <html>}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00051}00051\ <body>}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00052}00052\ <form\ method=\textcolor{stringliteral}{"{}post"{}}>}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00053}00053\ \ \ \ \ <h1>Select\ Provider</h1>}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00054}00054\ \ \ \ \ <input\ type=\textcolor{stringliteral}{"{}radio"{}}\ name=\textcolor{stringliteral}{"{}provider"{}}\ value=\textcolor{stringliteral}{"{}Google"{}}\ \textcolor{keywordtype}{id}=\textcolor{stringliteral}{"{}providerGoogle"{}}>}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00055}00055\ \ \ \ \ <label\ \textcolor{keywordflow}{for}=\textcolor{stringliteral}{"{}providerGoogle"{}}>Google</label><br>}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00056}00056\ \ \ \ \ <input\ type=\textcolor{stringliteral}{"{}radio"{}}\ name=\textcolor{stringliteral}{"{}provider"{}}\ value=\textcolor{stringliteral}{"{}Yahoo"{}}\ \textcolor{keywordtype}{id}=\textcolor{stringliteral}{"{}providerYahoo"{}}>}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00057}00057\ \ \ \ \ <label\ \textcolor{keywordflow}{for}=\textcolor{stringliteral}{"{}providerYahoo"{}}>Yahoo</label><br>}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00058}00058\ \ \ \ \ <input\ type=\textcolor{stringliteral}{"{}radio"{}}\ name=\textcolor{stringliteral}{"{}provider"{}}\ value=\textcolor{stringliteral}{"{}Microsoft"{}}\ \textcolor{keywordtype}{id}=\textcolor{stringliteral}{"{}providerMicrosoft"{}}>}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00059}00059\ \ \ \ \ <label\ \textcolor{keywordflow}{for}=\textcolor{stringliteral}{"{}providerMicrosoft"{}}>Microsoft</label><br>}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00060}00060\ \ \ \ \ <h1>Enter\ \textcolor{keywordtype}{id}\ and\ secret</h1>}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00061}00061\ \ \ \ \ <p>These\ details\ are\ obtained\ by\ setting\ up\ an\ app\ in\ your\ provider\textcolor{stringliteral}{'s\ developer\ console.}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00062}00062\ \textcolor{stringliteral}{\ \ \ \ </p>}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00063}00063\ \textcolor{stringliteral}{\ \ \ \ <p>ClientId:\ <input\ type="{}text"{}\ name="{}clientId"{}><p>}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00064}00064\ \textcolor{stringliteral}{\ \ \ \ <p>ClientSecret:\ <input\ type="{}text"{}\ name="{}clientSecret"{}></p>}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00065}00065\ \textcolor{stringliteral}{\ \ \ \ <input\ type="{}submit"{}\ value="{}Continue"{}>}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00066}00066\ \textcolor{stringliteral}{</form>}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00067}00067\ \textcolor{stringliteral}{</body>}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00068}00068\ \textcolor{stringliteral}{</html>}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00069}00069\ \textcolor{stringliteral}{\ \ \ \ <?php}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00070}00070\ \textcolor{stringliteral}{\ \ \ \ exit;}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00071}00071\ \textcolor{stringliteral}{\}}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00072}00072\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00073}00073\ \textcolor{stringliteral}{require\ '}vendor/autoload.php\textcolor{stringliteral}{';}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00074}00074\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00075}00075\ \textcolor{stringliteral}{session\_start();}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00076}00076\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00077}00077\ \textcolor{stringliteral}{\$providerName\ =\ '}\textcolor{stringliteral}{';}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00078}00078\ \textcolor{stringliteral}{\$clientId\ =\ '}\textcolor{stringliteral}{';}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00079}00079\ \textcolor{stringliteral}{\$clientSecret\ =\ '}\textcolor{stringliteral}{';}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00080}00080\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00081}00081\ \textcolor{stringliteral}{if\ (array\_key\_exists('}provider\textcolor{stringliteral}{',\ \$\_POST))\ \{}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00082}00082\ \textcolor{stringliteral}{\ \ \ \ \$providerName\ =\ \$\_POST['}provider\textcolor{stringliteral}{'];}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00083}00083\ \textcolor{stringliteral}{\ \ \ \ \$clientId\ =\ \$\_POST['}clientId\textcolor{stringliteral}{'];}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00084}00084\ \textcolor{stringliteral}{\ \ \ \ \$clientSecret\ =\ \$\_POST['}clientSecret\textcolor{stringliteral}{'];}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00085}00085\ \textcolor{stringliteral}{\ \ \ \ \$\_SESSION['}provider\textcolor{stringliteral}{']\ =\ \$providerName;}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00086}00086\ \textcolor{stringliteral}{\ \ \ \ \$\_SESSION['}clientId\textcolor{stringliteral}{']\ =\ \$clientId;}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00087}00087\ \textcolor{stringliteral}{\ \ \ \ \$\_SESSION['}clientSecret\textcolor{stringliteral}{']\ =\ \$clientSecret;}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00088}00088\ \textcolor{stringliteral}{\}\ elseif\ (array\_key\_exists('}provider\textcolor{stringliteral}{',\ \$\_SESSION))\ \{}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00089}00089\ \textcolor{stringliteral}{\ \ \ \ \$providerName\ =\ \$\_SESSION['}provider\textcolor{stringliteral}{'];}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00090}00090\ \textcolor{stringliteral}{\ \ \ \ \$clientId\ =\ \$\_SESSION['}clientId\textcolor{stringliteral}{'];}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00091}00091\ \textcolor{stringliteral}{\ \ \ \ \$clientSecret\ =\ \$\_SESSION['}clientSecret\textcolor{stringliteral}{'];}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00092}00092\ \textcolor{stringliteral}{\}}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00093}00093\ \textcolor{stringliteral}{}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00094}00094\ \textcolor{stringliteral}{//If\ you\ don'}t\ want\ to\ use\ the\ built-\/in\ form,\ \textcolor{keyword}{set}\ your\ client\ \textcolor{keywordtype}{id}\ and\ secret\ here}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00095}00095\ \textcolor{comment}{//\$clientId\ =\ 'RANDOMCHARS-\/-\/-\/-\/-\/duv1n2.apps.googleusercontent.com';}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00096}00096\ \textcolor{comment}{//\$clientSecret\ =\ 'RANDOMCHARS-\/-\/-\/-\/-\/lGyjPcRtvP';}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00097}00097\ }
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00098}00098\ \textcolor{comment}{//If\ this\ automatic\ URL\ doesn't\ work,\ set\ it\ yourself\ manually\ to\ the\ URL\ of\ this\ script}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00099}00099\ \$redirectUri\ =\ (isset(\$\_SERVER[\textcolor{stringliteral}{'HTTPS'}])\ ?\ \textcolor{stringliteral}{'https://'}\ :\ \textcolor{stringliteral}{'http://'})\ .\ \$\_SERVER[\textcolor{stringliteral}{'HTTP\_HOST'}]\ .\ \$\_SERVER[\textcolor{stringliteral}{'PHP\_SELF'}];}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00100}00100\ \textcolor{comment}{//\$redirectUri\ =\ 'http://localhost/PHPMailer/redirect';}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00102}00102\ \$params\ =\ [}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00103}00103\ \ \ \ \ \textcolor{stringliteral}{'clientId'}\ =>\ \$clientId,}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00104}00104\ \ \ \ \ \textcolor{stringliteral}{'clientSecret'}\ =>\ \$clientSecret,}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00105}00105\ \ \ \ \ \textcolor{stringliteral}{'redirectUri'}\ =>\ \$redirectUri,}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00106}00106\ \ \ \ \ \textcolor{stringliteral}{'accessType'}\ =>\ \textcolor{stringliteral}{'offline'}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00107}00107\ ];}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00108}00108\ }
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00109}00109\ \$options\ =\ [];}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00110}00110\ \$provider\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00112}00112\ \textcolor{keywordflow}{switch}\ (\$providerName)\ \{}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00113}00113\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'Google'}:}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00114}00114\ \ \ \ \ \ \ \ \ \$provider\ =\ \textcolor{keyword}{new}\ Google(\$params);}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00115}00115\ \ \ \ \ \ \ \ \ \$options\ =\ [}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00116}00116\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'scope'}\ =>\ [}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00117}00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'https://mail.google.com/'}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00118}00118\ \ \ \ \ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00119}00119\ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00120}00120\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00121}00121\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'Yahoo'}:}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00122}00122\ \ \ \ \ \ \ \ \ \$provider\ =\ \textcolor{keyword}{new}\ Yahoo(\$params);}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00123}00123\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00124}00124\ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'Microsoft'}:}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00125}00125\ \ \ \ \ \ \ \ \ \$provider\ =\ \textcolor{keyword}{new}\ Microsoft(\$params);}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00126}00126\ \ \ \ \ \ \ \ \ \$options\ =\ [}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00127}00127\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'scope'}\ =>\ [}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00128}00128\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'wl.imap'},}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00129}00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'wl.offline\_access'}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00130}00130\ \ \ \ \ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00131}00131\ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00132}00132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00133}00133\ \}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00134}00134\ }
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00135}00135\ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{null}\ ===\ \$provider)\ \{}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00136}00136\ \ \ \ \ exit(\textcolor{stringliteral}{'Provider\ missing'});}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00137}00137\ \}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00138}00138\ }
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00139}00139\ \textcolor{keywordflow}{if}\ (!isset(\$\_GET[\textcolor{stringliteral}{'code'}]))\ \{}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00140}00140\ \ \ \ \ \textcolor{comment}{//If\ we\ don't\ have\ an\ authorization\ code\ then\ get\ one}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00141}00141\ \ \ \ \ \$authUrl\ =\ \$provider-\/>getAuthorizationUrl(\$options);}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00142}00142\ \ \ \ \ \$\_SESSION[\textcolor{stringliteral}{'oauth2state'}]\ =\ \$provider-\/>getState();}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00143}00143\ \ \ \ \ header(\textcolor{stringliteral}{'Location:\ '}\ .\ \$authUrl);}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00144}00144\ \ \ \ \ exit;}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00145}00145\ \ \ \ \ \textcolor{comment}{//Check\ given\ state\ against\ previously\ stored\ one\ to\ mitigate\ CSRF\ attack}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00146}00146\ \}\ elseif\ (empty(\$\_GET[\textcolor{stringliteral}{'state'}])\ ||\ (\$\_GET[\textcolor{stringliteral}{'state'}]\ !==\ \$\_SESSION[\textcolor{stringliteral}{'oauth2state'}]))\ \{}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00147}00147\ \ \ \ \ unset(\$\_SESSION[\textcolor{stringliteral}{'oauth2state'}]);}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00148}00148\ \ \ \ \ unset(\$\_SESSION[\textcolor{stringliteral}{'provider'}]);}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00149}00149\ \ \ \ \ exit(\textcolor{stringliteral}{'Invalid\ state'});}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00150}00150\ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00151}00151\ \ \ \ \ unset(\$\_SESSION[\textcolor{stringliteral}{'provider'}]);}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00152}00152\ \ \ \ \ \textcolor{comment}{//Try\ to\ get\ an\ access\ token\ (using\ the\ authorization\ code\ grant)}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00153}00153\ \ \ \ \ \$token\ =\ \$provider-\/>getAccessToken(}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00154}00154\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'authorization\_code'},}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00155}00155\ \ \ \ \ \ \ \ \ [}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00156}00156\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'code'}\ =>\ \$\_GET[\textcolor{stringliteral}{'code'}]}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00157}00157\ \ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00158}00158\ \ \ \ \ );}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00159}00159\ \ \ \ \ \textcolor{comment}{//Use\ this\ to\ interact\ with\ an\ API\ on\ the\ users\ behalf}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00160}00160\ \ \ \ \ \textcolor{comment}{//Use\ this\ to\ get\ a\ new\ access\ token\ if\ the\ old\ one\ expires}}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00161}00161\ \ \ \ \ echo\ \textcolor{stringliteral}{'Refresh\ Token:\ '},\ \$token-\/>getRefreshToken();}
\DoxyCodeLine{\Hypertarget{templates_2gardnma-package-files_21__gardnma-html-files_2assets_2inc_2PHPMailer_2get__oauth__token_8php_source_l00162}00162\ \}}

\end{DoxyCode}
